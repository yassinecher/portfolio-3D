System.register(["jotai/vanilla"],function(P){"use strict";var m;return{setters:[function(W){m=W.atom}],execute:function(){P({atomFamily:J,atomWithDefault:Y,atomWithObservable:nt,atomWithReducer:z,atomWithRefresh:ft,atomWithReset:$,atomWithStorage:et,createJSONStorage:R,freezeAtom:q,freezeAtomCreator:B,loadable:st,selectAtom:F,splitAtom:X,unstable_withStorageValidator:Z,unwrap:lt});const W=P("RESET",Symbol(""));function $(n){const e=m(n,(r,u,a)=>{const o=typeof a=="function"?a(r(e)):a;u(e,o===W?n:o)});return e}function z(n,e){return m(n,function(r,u,a){u(this,e(r(this),a))})}function J(n,e){let r=null;const u=new Map,a=o=>{let t;if(e===void 0)t=u.get(o);else for(const[c,i]of u)if(e(c,o)){t=i;break}if(t!==void 0)if(r!=null&&r(t[1],o))a.remove(o);else return t[0];const s=n(o);return u.set(o,[s,Date.now()]),s};return a.remove=o=>{if(e===void 0)u.delete(o);else for(const[t]of u)if(e(t,o)){u.delete(t);break}},a.setShouldRemove=o=>{if(r=o,!!r)for(const[t,s]of u)r(s[1],t)&&u.delete(t)},a}const I=(n,e,r)=>(e.has(r)?e:e.set(r,n())).get(r),_=new WeakMap,C=(n,e,r,u)=>{const a=I(()=>new WeakMap,_,e),o=I(()=>new WeakMap,a,r);return I(n,o,u)};function F(n,e,r=Object.is){return C(()=>{const u=Symbol(),a=([t,s])=>{if(s===u)return e(t);const c=e(t,s);return r(s,c)?s:c},o=m(t=>{const s=t(o),c=t(n);return c instanceof Promise||s instanceof Promise?Promise.all([c,s]).then(a):a([c,s])});return o.init=u,o},n,e,r)}const L=new WeakMap,K=(n,e)=>(L.has(e)?L:L.set(e,n())).get(e),E=n=>{if(typeof n!="object"||n===null)return;Object.freeze(n);const e=Object.getOwnPropertyNames(n);for(const r of e){const u=n[r];E(u)}return n};function q(n){return K(()=>m(e=>E(e(n)),(e,r,u)=>r(n,u)),n)}function B(n){return(...e)=>{const r=n(...e),u=r.read;return r.read=function(a,o){return E(u.call(this,a,o))},r}}const V=(n,e,r)=>(e.has(r)?e:e.set(r,n())).get(r),G=new WeakMap,H=(n,e,r)=>{const u=V(()=>new WeakMap,G,e);return V(n,u,r)},Q={},j=n=>!!n.write,U=n=>typeof n=="function";function X(n,e){return H(()=>{const r=new WeakMap,u=(t,s)=>{let c=r.get(t);if(c)return c;const i=s&&r.get(s),l=[],f=[];return t.forEach((v,b)=>{const h=e?e(v):b;f[b]=h;const y=i&&i.atomList[i.keyList.indexOf(h)];if(y){l[b]=y;return}const O=g=>{const d=g(a),p=g(n),k=u(p,d==null?void 0:d.arr).keyList.indexOf(h);if(k<0||k>=p.length){const w=t[u(t).keyList.indexOf(h)];if(w)return w;throw new Error("splitAtom: index out of bounds for read")}return p[k]},M=(g,d,p)=>{const k=g(a),w=g(n),S=u(w,k==null?void 0:k.arr).keyList.indexOf(h);if(S<0||S>=w.length)throw new Error("splitAtom: index out of bounds for write");const T=U(p)?p(w[S]):p;Object.is(w[S],T)||d(n,[...w.slice(0,S),T,...w.slice(S+1)])};l[b]=j(n)?m(O,M):m(O)}),i&&i.keyList.length===f.length&&i.keyList.every((v,b)=>v===f[b])?c=i:c={arr:t,atomList:l,keyList:f},r.set(t,c),c},a=m(t=>{const s=t(a),c=t(n);return u(c,s==null?void 0:s.arr)});a.init=void 0;const o=j(n)?m(t=>t(a).atomList,(t,s,c)=>{switch(c.type){case"remove":{const i=t(o).indexOf(c.atom);if(i>=0){const l=t(n);s(n,[...l.slice(0,i),...l.slice(i+1)])}break}case"insert":{const i=c.before?t(o).indexOf(c.before):t(o).length;if(i>=0){const l=t(n);s(n,[...l.slice(0,i),c.value,...l.slice(i)])}break}case"move":{const i=t(o).indexOf(c.atom),l=c.before?t(o).indexOf(c.before):t(o).length;if(i>=0&&l>=0){const f=t(n);i<l?s(n,[...f.slice(0,i),...f.slice(i+1,l),f[i],...f.slice(l)]):s(n,[...f.slice(0,l),f[i],...f.slice(l,i),...f.slice(i+1)])}break}}}):m(t=>t(a).atomList);return o},n,e||Q)}function Y(n){const e=Symbol(),r=m(e),u=m((a,o)=>{const t=a(r);return t!==e?t:n(a,o)},(a,o,t)=>{if(t===W)o(r,e);else if(typeof t=="function"){const s=a(u);o(r,t(s))}else o(r,t)});return u}const A=n=>typeof(n==null?void 0:n.then)=="function";function Z(n){return e=>({...e,getItem:(r,u)=>{const a=t=>n(t)?t:u,o=e.getItem(r,u);return A(o)?o.then(a):a(o)}})}function R(n=()=>{try{return window.localStorage}catch(r){return}},e){let r,u;const a={getItem:(o,t)=>{var s,c;const i=f=>{if(f=f||"",r!==f){try{u=JSON.parse(f,e==null?void 0:e.reviver)}catch(v){return t}r=f}return u},l=(c=(s=n())==null?void 0:s.getItem(o))!=null?c:null;return A(l)?l.then(i):i(l)},setItem:(o,t)=>{var s;return(s=n())==null?void 0:s.setItem(o,JSON.stringify(t,e==null?void 0:e.replacer))},removeItem:o=>{var t;return(t=n())==null?void 0:t.removeItem(o)}};return typeof window!="undefined"&&typeof window.addEventListener=="function"&&window.Storage&&(a.subscribe=(o,t,s)=>{if(!(n()instanceof window.Storage))return()=>{};const c=i=>{if(i.storageArea===n()&&i.key===o){let l;try{l=JSON.parse(i.newValue||"")}catch(f){l=s}t(l)}};return window.addEventListener("storage",c),()=>{window.removeEventListener("storage",c)}}),a}const tt=R();function et(n,e,r=tt,u){const a=u==null?void 0:u.getOnInit,o=m(a?r.getItem(n,e):e);return o.onMount=t=>{t(r.getItem(n,e));let s;return r.subscribe&&(s=r.subscribe(n,t,e)),s},m(t=>t(o),(t,s,c)=>{const i=typeof c=="function"?c(t(o)):c;return i===W?(s(o,e),r.removeItem(n)):i instanceof Promise?i.then(l=>(s(o,l),r.setItem(n,l))):(s(o,i),r.setItem(n,i))})}function nt(n,e){const r=a=>{if("e"in a)throw a.e;return a.d},u=m(a=>{var o;let t=n(a);const s=(o=t[Symbol.observable])==null?void 0:o.call(t);s&&(t=s);let c;const i=()=>new Promise(d=>{c=d}),l=e&&"initialValue"in e?{d:typeof e.initialValue=="function"?e.initialValue():e.initialValue}:i();let f,v;const b=d=>{v=d,c==null||c(d),f==null||f(d)};let h,y;const O=()=>!f,M=()=>{h&&(clearTimeout(y),h.unsubscribe()),h=t.subscribe({next:d=>b({d}),error:d=>b({e:d}),complete:()=>{}}),O()&&e!=null&&e.unstable_timeout&&(y=setTimeout(()=>{h&&(h.unsubscribe(),h=void 0)},e.unstable_timeout))};M();const g=m(v||l);return g.onMount=d=>(f=d,v&&d(v),h?clearTimeout(y):M(),()=>{f=void 0,h&&(h.unsubscribe(),h=void 0)}),[g,t,i,M,O]});return m(a=>{const[o]=a(u),t=a(o);return t instanceof Promise?t.then(r):r(t)},(a,o,t)=>{const[s,c,i,l,f]=a(u);if("next"in c)f()&&(o(s,i()),l()),c.next(t);else throw new Error("observable is not subject")})}const x=new WeakMap,rt=(n,e)=>(x.has(e)?x:x.set(e,n())).get(e),ot=n=>n instanceof Promise,D={state:"loading"};function st(n){return rt(()=>{const e=new WeakMap,r=m(0),u=m((a,{setSelf:o})=>{a(r);let t;try{t=a(n)}catch(l){return{state:"hasError",error:l}}if(!ot(t))return{state:"hasData",data:t};const s=t,c=e.get(s);return c||(s.status==="fulfilled"?e.set(s,{state:"hasData",data:s.value}):s.status==="rejected"?e.set(s,{state:"hasError",error:s.reason}):s.then(l=>{e.set(s,{state:"hasData",data:l})},l=>{e.set(s,{state:"hasError",error:l})}).finally(o),e.get(s)||(e.set(s,D),D))},(a,o)=>{o(r,t=>t+1)});return m(a=>a(u))},n)}const N=(n,e,r)=>(e.has(r)?e:e.set(r,n())).get(r),it=new WeakMap,at=(n,e,r)=>{const u=N(()=>new WeakMap,it,e);return N(n,u,r)},ut=n=>n instanceof Promise,ct=()=>{};function lt(n,e=ct){return at(()=>{const r=new WeakMap,u=new WeakMap,a=m(0),o=m((t,{setSelf:s})=>{t(a);const c=t(o),i=t(n);if(!ut(i))return{v:i};if(i!==(c==null?void 0:c.p)&&(i.status==="fulfilled"?u.set(i,i.value):i.status==="rejected"?r.set(i,i.reason):i.then(l=>u.set(i,l),l=>r.set(i,l)).finally(s)),r.has(i))throw r.get(i);return u.has(i)?{p:i,v:u.get(i)}:c&&"v"in c?{p:i,f:e(c.v),v:c.v}:{p:i,f:e()}},(t,s)=>{s(a,c=>c+1)});return o.init=void 0,m(t=>{const s=t(o);return"f"in s?s.f:s.v},(t,s,...c)=>s(n,...c))},n,e)}function ft(n,e){const r=m(0);return m((u,a)=>(u(r),n(u,a)),(u,a,...o)=>{if(o.length===0)a(r,t=>t+1);else if(e)return e(u,a,...o)})}}}});
